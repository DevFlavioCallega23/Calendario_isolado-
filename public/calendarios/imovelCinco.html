<!--
19/11/25
WRW_BigBoss
FlavioCallega_&_Copilot
-->
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>The Plaza Ondina - Disponibilidade</title>
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../style.css" type="text/css">
</head>
<body>
  <h1>The Plaza Ondina - Disponibilidade</h1>
  <p style="text-align:center;">
    Aconchego de Apartamento com ServiÃ§o de Hotel no coraÃ§Ã£o de Ondina<br>
    Quarto e sala com ar condicionado<br>
    1 Cama de casal e 1 SofÃ¡ Cama
  </p>

  <div id="calendar"></div>
  <button class="reserva-btn" onclick="reservar()">Reservar imÃ³vel</button>
  <a href="../index.html" class="reserva-btn voltar-btn">â† Voltar para Home</a>
 <div class="carousel-container">
  <div class="carousel active">

    <!-- Sala -->
    <div class="sala">
      <div class="slide">
        <img src="https://a0.muscache.com/im/pictures/hosting/Hosting-1544328946353777106/original/d82b3263-5e36-42be-8d24-9f527b5edcf2.jpeg?im_w=1200"
        alt="Sala aconchegante com varanda">
        <p class="caption">ğŸ›‹ï¸ Sala aconchegante com varanda</p>
      </div>

      <div class="slide">
        <img src="https://a0.muscache.com/im/pictures/hosting/Hosting-1544328946353777106/original/eaa5564d-926f-41ec-8999-421c3be861f1.jpeg?im_w=1440" 
        alt="Sala aconchegante com varanda">
        <p class="caption">ğŸ›‹ï¸ Sala aconchegante com varanda</p>
      </div>

      <div class="slide">
        <img src="https://a0.muscache.com/im/pictures/hosting/Hosting-1544328946353777106/original/80e76741-f0e9-45b6-8767-72fe45d1ac5c.jpeg?im_w=1440" 
        alt="Sala aconchegante com varanda">
        <p class="caption">ğŸ›‹ï¸ Sala aconchegante com varanda</p>
      </div>

      <div class="slide">
        <img src="https://a0.muscache.com/im/pictures/hosting/Hosting-1544328946353777106/original/9aad9233-ef43-46ca-8aad-03e85ca13b52.jpeg?im_w=1440" 
        alt="Sala aconchegante com varanda">
        <p class="caption">ğŸ›‹ï¸ Sala aconchegante com varanda</p>
      </div>

      <div class="slide">
        <img src="https://a0.muscache.com/im/pictures/hosting/Hosting-1544328946353777106/original/442d1d9f-dffb-4c1e-9109-214b6f19db25.jpeg?im_w=1440" 
        alt="Sala aconchegante com varanda">
        <p class="caption">ğŸ›‹ï¸ Sala aconchegante com varanda</p>
      </div>
    </div><!--fimSala-->

    <!-- Quarto -->
    <div class="quarto">
      <div class="slide">
        <img src="https://a0.muscache.com/im/pictures/hosting/Hosting-1544328946353777106/original/4593ed4a-3e9e-43e6-91fe-cd24aecb5432.jpeg?im_w=1440"
        alt="Quarto com cama de casal">
        <p class="caption">ğŸ›ï¸ Quarto com cama de casal</p>
      </div>

      <div class="slide">
        <img src="https://a0.muscache.com/im/pictures/hosting/Hosting-1544328946353777106/original/e34901c8-cd17-4142-bab5-cdbdbc007ceb.jpeg?im_w=1440" 
        alt="Quarto com cama de casal">
        <p class="caption">ğŸ›ï¸ Quarto com cama de casal</p>
      </div>

      <div class="slide">
        <img src="https://a0.muscache.com/im/pictures/hosting/Hosting-1544328946353777106/original/01d733af-9fa2-4f11-be52-52b7dfc7559a.jpeg?im_w=1440" 
        alt="Quarto com cama de casal">
        <p class="caption">ğŸ›ï¸ Quarto com cama de casal</p>
      </div>

      <div class="slide">
        <img src="https://a0.muscache.com/im/pictures/hosting/Hosting-1544328946353777106/original/1b3c75c6-16e5-4a86-8670-8cc73dcca05a.jpeg?im_w=1440" 
        alt="Quarto com cama de casal">
        <p class="caption">ğŸ›ï¸ Quarto com cama de casal</p>
      </div>
    </div><!--fimQuarto-->

    <!-- Banheiro -->
    <div class="banheiro">
      <div class="slide">
        <img src="https://a0.muscache.com/im/pictures/hosting/Hosting-1544328946353777106/original/e6f185f0-2b51-4ebd-94c7-0a2413ed2070.jpeg?im_w=1200" 
        alt="Banheiro moderno">
        <p class="caption">ğŸš¿ Banheiro moderno</p>
      </div>
    </div><!--fimBanheiro-->

    <!-- Exterior -->
    <div class="Exterior">
      <div class="slide">
        <img src="https://a0.muscache.com/im/pictures/hosting/Hosting-1544328946353777106/original/10c87f2d-c380-44a9-bdec-3c51b9ad7184.jpeg?im_w=720" 
        alt="Exterior">
        <p class="caption">Exterior com Piscina</p>
      </div>

      <div class="slide">
        <img src="https://a0.muscache.com/im/pictures/hosting/Hosting-1544328946353777106/original/25d30c3f-6b62-47d1-a187-6f378a9edd18.jpeg?im_w=720" 
        alt="Exterior">
        <p class="caption">Exterior com Piscina</p>
      </div>

      <div class="slide">
        <img src="https://a0.muscache.com/im/pictures/hosting/Hosting-1544328946353777106/original/c43c0e8e-a42f-4293-9b87-99e835a9df42.jpeg?im_w=1200" 
        alt="Exterior">
        <p class="caption">Exterior com Piscina</p>
      </div>

      <div class="slide">
        <img src="https://a0.muscache.com/im/pictures/hosting/Hosting-1544328946353777106/original/e3409008-d7a4-483b-9388-51f5dbf8017c.jpeg?im_w=720" 
        alt="Exterior">
        <p class="caption">Exterior com Piscina</p>
      </div>
    </div><!--fimExterior-->

  </div><!--fimCarousel-->

  <button class="prev">âŸ¨</button>
  <button class="next">âŸ©</button>
</div><!--fimCarouselContainer-->

  <div id="MapsContato">
    <div class="map-container">
      <h2 style="text-align:center;">ğŸ“ LocalizaÃ§Ã£o</h2>
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3887.4015611729433!2d-38.511375624528796!3d-13.010080960584999!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x7160367adfcafbf%3A0x203d45c951927b7a!2sThe%20Plaza!5e0!3m2!1spt-BR!2sbr!4v1764373071741!5m2!1spt-BR!2sbr"
        width="100%"
        height="300"
        style="border:0;"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade">
      </iframe>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>
  <script>
    const calendarEl = document.getElementById('calendar');
    const calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: 'dayGridMonth',
      locale: 'pt-br',
      events: []
    });
    calendar.render();

    function carregarCalendario() {
      // ğŸ”§ Agora chamando a API do servidor Express para The Plaza Ondina
      fetch('/disponibilidade/thePlazaOndina')
        .then(res => res.json())
        .then(diasOcupados => {
          const hoje = new Date();
          const diasDoMes = [];
          for (let i = 0; i < 30; i++) {
            const dia = new Date(hoje);
            dia.setDate(dia.getDate() + i);
            diasDoMes.push(dia.toISOString().split('T')[0]);
          }

          const diasDisponiveis = diasDoMes.filter(d => !diasOcupados.includes(d));

          const eventosDisponiveis = diasDisponiveis.map(data => ({
            title: 'DisponÃ­vel',
            start: data,
            color: '#28a745'
          }));

          const eventosIndisponiveis = diasOcupados.map(data => ({
            title: 'IndisponÃ­vel',
            start: data,
            color: '#ff4d4d'
          }));

          calendar.removeAllEvents();
          calendar.addEventSource([...eventosDisponiveis, ...eventosIndisponiveis]);
        })
        .catch(err => console.error('Erro ao carregar calendÃ¡rio:', err));
    }

    function reservar() {
      const numeroWhatsApp = '5571993019981';
      const mensagem = encodeURIComponent(`OlÃ¡! Gostaria de reservar o imÃ³vel: The Plaza Ondina`);
      window.open(`https://wa.me/${numeroWhatsApp}?text=${mensagem}`, '_blank');
    }

    carregarCalendario();

    // Carousel
    const slides = document.querySelectorAll('.slide');
    let current = 0;

    document.querySelector('.next').onclick = () => {
      slides[current].classList.remove('active');
      current = (current + 1) % slides.length;
      slides[current].classList.add('active');
    };

    document.querySelector('.prev').onclick = () => {
      slides[current].classList.remove('active');
      current = (current - 1 + slides.length) % slides.length;
      slides[current].classList.add('active');
    };

    setInterval(() => {
      slides[current].classList.remove('active');
      current = (current + 1) % slides.length;
      slides[current].classList.add('active');
    }, 5000);
  </script>
</body>
</html>
